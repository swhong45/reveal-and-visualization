<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Syrup-Summary Report</title>

		<meta name="description" content="Syrup Summary containing interactive charts">
		<meta name="author" content="Andy Sang Hong">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script type="text/javascript" src="js/d3.v3.js"></script>
		<script type="text/javascript" src="js/sankey.js"></script>
   
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
		<!-- Optional theme -->
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
		<!-- Latest compiled and minified JavaScript -->
		<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/beige.css" id="theme">

		<!-- full screen background image -->
		<!-- <link rel="stylesheet" href="css/fullscreen-img.css"> -->

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--Load the AJAX API-->
	    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
	    
		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<!-- title slide -->
				<section data-transition="linear" data-background="#555" data-background-transition="slide">
					<h2>Syrup <small>- App Log Analysis</small></h2>
					<h5>Summary of Key Findings</h5>
					<svg viewBox="328 355 335 276" >
						  <path d="
						    M 630, 425
						    A 195, 195 0 0 1 331, 600
						    A 142, 142 0 0 0 428, 570
						    A  70,  70 0 0 1 370, 523
						    A  70,  70 0 0 0 401, 521
						    A  70,  70 0 0 1 344, 455
						    A  70,  70 0 0 0 372, 460
						    A  70,  70 0 0 1 354, 370
						    A 195, 195 0 0 0 495, 442
						    A  67,  67 0 0 1 611, 380
						    A 117, 117 0 0 0 654, 363
						    A  65,  65 0 0 1 623, 401
						    A 117, 117 0 0 0 662, 390
						    A  65,  65 0 0 1 630, 425
						    Z"
						    style="fill:#3BA9EE;"/>

						</svg>
					<p>BI추진단 | BI그룹</p>
				</section>

				<!-- insight 01 -->
				<section data-transition="linear" data-background-transition="slide">
					
					<section>
						<h3 class="text-left">insight 01.</h3>
						<p class="bg-info" style="padding:20px;">멤버십 카드 발급 페이지는 카드 추가 하위 페이지에서 주로 유입되고 있음. 반면, 결제/상품권 카드 발급페이지는 메인 페이지의 추천 카드 영역에서 주로 유입되고 있음</p>
						<!-- <div class="container-fluid"> 
							<div class="row">
								<div class="col-md-6"><img src="img/main_card_recommend.png" class="img-responsive img-rounded" alt=""></div>
								<div class="col-md-6"><img src="img/main_card_recommend.png" class="img-responsive img-rounded" alt=""></div>
							</div>
						</div> -->
					</section>
						
					<!-- Treemap Chart 01 -->
					<section>

						<div class="container-fluid"> 
							<div class="row">
								<div class="col-md-8">
									<div id="chart_div"></div>
								</div>
								<div class="col-md-4"><img src="img/issue_mcard.png" class="img-responsive img-rounded" style="border-width: 2pt;border-color: #A4A4A4;" alt=""></div>
							</div>
						</div>
						
						<script type="text/javascript">
					      google.load("visualization", "1.1", {packages:["treemap"]});
					      google.setOnLoadCallback(drawChart);
					      function drawChart() {
					        var data = google.visualization.arrayToDataTable([
					          ['previous pages', 'current pages', 'num_sessions' , 'color_'],
					          ['멤버십카드발급페이지',	null,	0,	0],
					          ['메인-카드',	'멤버십카드발급페이지',	596610,	596610],
					          ['카드 추가 하위 페이지',	'멤버십카드발급페이지',	872503,	872503],
					          ['검색 하위 페이지',	'멤버십카드발급페이지',	251137,	251137],
					          ['무료 쿠폰 상세',	'멤버십카드발급페이지',	25580,	25580],
					          ['공지 상세',	'멤버십카드발급페이지',	6940,	6940],
					        ]);

					        tree = new google.visualization.TreeMap(document.getElementById('chart_div'));

					        tree.draw(data, {
					          minColor: '#F6E3CE',
					          midColor: '#F7BE81',
					          maxColor: '#FE9A2E',
					          headerHeight: 30,
					          fontColor: '#222',
					          // showScale: true,
					          height: 500
					        });
					      }
					    </script>

					</section>

					<!-- Treemap Chart 02 -->
					<section>

						<div class="container-fluid"> 
							<div class="row">
								<div class="col-md-8">
									<div id="chart_div_02"></div>
								</div>
								<div class="col-md-4"><img src="img/issue_pcard.png" class="img-responsive img-rounded" style="border-width: 2pt;border-color: #A4A4A4;" alt=""></div>
							</div>
						</div>
						
						<script type="text/javascript">
					      google.load("visualization", "1.1", {packages:["treemap"]});
					      google.setOnLoadCallback(drawChart);
					      function drawChart() {
					        var data = google.visualization.arrayToDataTable([
					          ['previous pages', 'current pages', 'num_sessions' , 'color_'],
					          ['결제 상품권 카드 발급 페이지',	null,	0,	0],
					          ['메인-카드',	'결제 상품권 카드 발급 페이지',	156061,	156061],
					          ['카드 추가 하위 페이지',	'결제 상품권 카드 발급 페이지',	27728,	27728],
					          ['검색 하위 페이지',	'결제 상품권 카드 발급 페이지',	24884,	24884],
					          ['무료 쿠폰 상세',	'결제 상품권 카드 발급 페이지',	68,	68],
					          ['이벤트 상세',	'결제 상품권 카드 발급 페이지',	463,	463],
					        ]);

					        tree = new google.visualization.TreeMap(document.getElementById('chart_div_02'));

					        tree.draw(data, {
					          minColor: '#F6E3CE',
					          midColor: '#F7BE81',
					          maxColor: '#FE9A2E',
					          headerHeight: 30,
					          fontColor: '#222',
					          // showScale: true,
					          height: 500
					        });
					      }
					    </script>

					</section>

					<!-- suggestion 01 -->
					<section>
						<p class="bg-primary" style="padding:30px;"> 결제, 상품권 카드의 발급율을 높이기 위해서는  추천 카드 영역내 적극적 노출을 통한 발급 유인을 강화할 필요가 있음 </p>
					</section>
				</section>

				<!-- insight 02 -->
				<section>
					<section>
						<h3 class="text-left">insight 02.</h3>
						<p class="bg-info" style="padding:20px;">
						발급 페이지 진입 방문수 대비 결제, 상품권 카드 발급 완료 비율은 18.66%로 멤버십 발급 완료율(48.07%)에 비해 낮음 </p>
					</section>
					
					<section id="sub2_01">
						<p>2-1: 멤버십 발급 경로 단계별 흐름</p>
						<script>
							var img_width = 270, //image width
								width = 960, //full width of canvas
								height = 560, //full height of canvas
								translate_dist = {x:50, y:20}; //translate canvas

							var canvas = d3.select("#sub2_01").append("svg")
								.attr("width", width)
								.attr("height", height)
									.append("g")
									.attr("transform", "translate(" + translate_dist.x + "," + translate_dist.y +")");

							// canvas.append("rect")
							// 	.attr("width", width - translate_dist.x)
							// 	.attr("height", height - translate_dist.y)
							// 	.attr("style", "fill:none;stroke:blue;stroke-width:1;stroke-opacity:0.6;");

							// line + text group generator
							// s_string : text in start circle
							// unit_straing : text beneath the line describing unit
							// label_string : value
							// s_r : radius of start circle
							// line_color : line color
							function lineGroup_g(s_string, unit_string, label_string, line_len, s_r, line_color) {
								var lineGroup = canvas.append("g")

								var start = {x:20, y:30},
									e_r = 10;
								
								lineGroup.append("circle")
									.attr("cx", start.x)
									.attr("cy", start.y)
									.attr("r", s_r)
									.attr("fill", line_color);

								lineGroup.append("circle")
									.attr("cx", start.x + line_len)
									.attr("cy", start.y)
									.attr("r", e_r)
									.attr("fill", line_color);

								var diagonal = d3.svg.diagonal()
									.source({x:start.x, y:start.y})
									.target({x:start.x + line_len, y:start.y});

								lineGroup.append("path")
									.attr("d", diagonal)
									.attr("fill", "none")
									.attr("stroke", line_color)
									.attr("stroke-width", 10);

								lineGroup.append("text")
										.attr("x", start.x)
										.attr("y", start.y*1.2)
										.attr("style", "font-size:14pt;fill:black")
										.attr("text-anchor", "middle")
										.text(s_string);
								
								lineGroup.append("text")
									.attr("x", (start.x + line_len)/1.3 )
									.attr("y", start.y + 20)
									.attr("style", "font-size:12pt;fill:#8A2E2E")
									.attr("text-anchor", "middle")
									.text(unit_string)
									.append("tspan")
										.attr("x", (start.x + line_len)/1.3)
										.attr("y", start.y + 40)
										.text(label_string);

								return lineGroup;
							};

							// add screen images #1
							canvas.append("image")
								.attr("xlink:href", "img/issue_mcard.png")
								.attr("width", img_width)
								.attr("height", img_width*1.6)
								.attr("x", 150)
								.attr("y", 30)
								.attr("style", "border-width: 2pt;border-color: #A4A4A4;");
							
							// lines generated by lineGroup_g() generator function
							var lineGroup_01 = new lineGroup_g("s", "num_Visits", "3,380,821", 110, 20, "#C2EBFF");
							lineGroup_01.attr("transform", "translate(20, 80)");

							// add screen images #2
							canvas.append("image")
								.attr("xlink:href", "img/issue_mcard_c.png")
								.attr("width", img_width)
								.attr("height", img_width*1.6)
								.attr("x", 500)
								.attr("y", 30)
								.attr("style", "border-width: 2pt;border-color: #A4A4A4;");

							var lineGroup_02 = new lineGroup_g("click", "%_Visits", "49.99%", 145, 30, "#C2EBFF");
							lineGroup_02.attr("transform", "translate(330, 145)");

							
							var lineGroup_03 = new lineGroup_g("click", "%_Visits", "96.15%", 100, 30, "#C2EBFF");
							lineGroup_03.attr("transform", "translate(720, 390)");

							var lineGroup_04 = new lineGroup_g("s", "compared to num_Visits: 48.07%", " ", 690, 20, "#D0CCCC");
							lineGroup_04.attr("transform", "translate(130, 450)");
						</script>
					</section>

					<section id="sub2_02">
						<p>2-2: 결제,상품권 카드 발급 경로 단계별 흐름</p>
						<script>
							var img_width = 270, //image width
								width = 960, //full width of canvas
								height = 560, //full height of canvas
								translate_dist = {x:200, y:20}; //translate canvas

							var canvas = d3.select("#sub2_02").append("svg")
								.attr("width", width)
								.attr("height", height)
									.append("g")
									.attr("transform", "translate(" + translate_dist.x + "," + translate_dist.y +")");

							// canvas.append("rect")
							// 	.attr("width", width - translate_dist.x)
							// 	.attr("height", height - translate_dist.y)
							// 	.attr("style", "fill:none;stroke:blue;stroke-width:1;stroke-opacity:0.6;");

							// line + text group generator
							// s_string : text in start circle
							// unit_straing : text beneath the line describing unit
							// label_string : value
							// s_r : radius of start circle
							// line_color : line color
							function lineGroup_g(s_string, unit_string, label_string, line_len, s_r, line_color) {
								var lineGroup = canvas.append("g")

								var start = {x:20, y:30},
									e_r = 10;
								
								lineGroup.append("circle")
									.attr("cx", start.x)
									.attr("cy", start.y)
									.attr("r", s_r)
									.attr("fill", line_color);

								lineGroup.append("circle")
									.attr("cx", start.x + line_len)
									.attr("cy", start.y)
									.attr("r", e_r)
									.attr("fill", line_color);

								var diagonal = d3.svg.diagonal()
									.source({x:start.x, y:start.y})
									.target({x:start.x + line_len, y:start.y});

								lineGroup.append("path")
									.attr("d", diagonal)
									.attr("fill", "none")
									.attr("stroke", line_color)
									.attr("stroke-width", 10);

								lineGroup.append("text")
										.attr("x", start.x)
										.attr("y", start.y*1.2)
										.attr("style", "font-size:14pt;fill:black")
										.attr("text-anchor", "middle")
										.text(s_string);
								
								lineGroup.append("text")
									.attr("x", (start.x + line_len)/1.3 )
									.attr("y", start.y + 20)
									.attr("style", "font-size:12pt;fill:#8A2E2E")
									.attr("text-anchor", "middle")
									.text(unit_string)
									.append("tspan")
										.attr("x", (start.x + line_len)/1.3)
										.attr("y", start.y + 40)
										.text(label_string);

								return lineGroup;
							};

							// add screen images #1
							canvas.append("image")
								.attr("xlink:href", "img/issue_pcard.png")
								.attr("width", img_width)
								.attr("height", img_width*1.6)
								.attr("x", 150)
								.attr("y", 30)
								.attr("style", "border-width: 2pt;border-color: #A4A4A4;");
							
							// lines generated by lineGroup_g() generator function
							var lineGroup_01 = new lineGroup_g("s", "num_Visits", "794,573", 110, 20, "#C2EBFF");
							lineGroup_01.attr("transform", "translate(20, 80)");

							var lineGroup_02 = new lineGroup_g("click", "%_Visits", "18.66%", 145, 30, "#C2EBFF");
							lineGroup_02.attr("transform", "translate(330, 145)");

						</script>
					</section>

					<!-- suggestion 02 -->
					<section>
						<p class="bg-primary" style="padding:30px;"> 결제, 상품권 카드 발급 확정을 도와 줄  수 있는 이미지, 컨텐츠 타이틀, 설명 등에 대한 개선이 필요</p>
 						<ul>
 							<li class="fragment roll-in">결제, 상품권 카드의  상품명, 썸네일 요소에서 ‘발급 완료 후 필요시 충전식’이라는 설명이 충분히 전달되지 않아, 발급에 신중한 경향을 보이는 것으로 예측 됨</li>
 							<li class="fragment roll-in">결제, 상품권 카드의 발급 전환율을 높이기 위해서는 이에 대한 보완책을 강구할 필요가 있음</li>
 						</ul>
					</section>
				</section>

				<!-- insight 03 -->
				<section>
					<section>
						<h3 class="text-left">insight 03.</h3>
						<p class="bg-info" style="padding:20px;">메인 카드 페이지의 추천 카드 노출 영역이 카드 추가 페이지 내 추천 카드 영역에 비해 노출 영역당 클릭 방문 수가 높다.</p>
						<!-- <div class="container-fluid"> 
							<div class="row">
								<div class="col-md-6"><img src="img/main_card_recommend.png" class="img-responsive img-rounded" alt=""></div>
								<div class="col-md-6"><img src="img/main_card_recommend.png" class="img-responsive img-rounded" alt=""></div>
							</div>
						</div> -->
					</section>

					<!-- d3. showing screens and numbers -->
					<section>
						<div class="row">
							<div class="col-md-6">
								
								<div id="test"></div>
								<script type="text/javascript">
									
									var svg1 = d3.select("#test").append("svg");
									svg1.attr("width", 500)
										.attr("height", 600);
									
									svg1.append("image")
										.attr("xlink:href", "img/main_card_recommend.png")
										.attr("width", 400)
										.attr("height", 600)
										.attr("x", 50)
										.attr("y", 0)
										.attr("style", "border-width: 2pt;border-color: #A4A4A4;");

									svg1.append("rect")
										.attr("x", 60)
										.attr("y", 380)
										.attr("rx", 5)
										.attr("ry", 5)
										.attr("width", 400)
										.attr("height", 80)
										.attr("style", "fill:#81DAF5;opacity:0.2");

									svg1.append("text")
										.attr("x", 415)
										.attr("y", 435)
										.text("136,426회")
										.attr("style", "fill:red;font-size:14pt");
								</script>
							</div>
							<div class="col-md-6">
								
								<div id="test02"></div>
								
								<script type="text/javascript">
									
									var svg2 = d3.select("#test02").append("svg");
									svg2.attr("width", 500)
										.attr("height", 600);
									
									svg2.append("image")
										.attr("xlink:href", "img/issue_card_main.png")
										.attr("width", 400)
										.attr("height", 600)
										.attr("x", 50)
										.attr("y", 0);

									svg2.append("rect")
										.attr("x", 300)
										.attr("y", 250)
										.attr("rx", 5)
										.attr("ry", 5)
										.attr("width", 130)
										.attr("height", 140)
										.attr("style", "fill:#81DAF5;opacity:0.2");

									svg2.append("text")
										.attr("x", 425)
										.attr("y", 360)
										.text("78,607회")
										.attr("style", "fill:red;font-size:14pt");
								</script>
								
							</div>
						</div>
					</section>

					<!-- suggestion 02 -->
					<section>
						<p class="bg-primary" style="padding:20px;">카드 추가 페이지 - 추천 멤버십 영역의 컨텐츠를 다양화하고 고객의 집중도를 높일 수 있는 방안이 필요함</p>
					</section>
				</section>

				<!-- insight 04 -->
				<section>
					<!-- implication 04 -->
					<section>
						<h3 class="text-left">insight 04.</h3>
						<p class="bg-info" style="padding:20px;">
						카드 추가 페이지 내에 고객이 가장 많이 클릭한 메뉴는 ① 모든카드, ②추천카드 순으로 나타남 </p>
					</section>
					
					<!-- sub04_01 -->
					<section>
						<p>카드 추가 페이지 내 영역 별 클릭 방문 수</p>
						<div class="row">
							<div class="col-xs-9 col-md-6">
								<div id="img_div"> </div>
							</div>
							<div class="col-xs-9 col-md-6">
								<div id="table_div"> </div>
							</div>
						</div>
						
						<script>
							var draw_sub4_01 = function () {
								d3.csv("data/insight04.csv", function(data) {
								
									var width = 960/2, //full width of canvas
										height = 560, //full height of canvas
										translate_dist = {x:30, y:30}; //translate canvas

									console.dir(data);

									var canvas = d3.select("#img_div").append("svg")
										.attr("width", width)
										.attr("height", height)
											.append("g")
											.attr("transform", "translate(" + translate_dist.x + "," + translate_dist.y +")");

									canvas.selectAll("circle")
										.data(data)
										.enter()
											.append("circle")
											.attr("cx", function(d, i) {return i*30;})
											.attr("cy", function(d, i) {return i*30;})
											.attr("r", 15)
											.attr("fill", "#C2EBFF");

									canvas.selectAll("text")
										.data(data)
										.enter()
											.append("text")
											.text(function(d){return d.action;})
											.attr("x", function(d, i) {return i*30 + 30;})
											.attr("y", function(d, i) {return i*30;})
											.attr("style", "font-size:14pt;fill:black")
											.attr("text-anchor", "start");

								});
							}
							draw_sub4_01();
						</script>

						<script>
							var draw_sub4_02 = function () {
								d3.csv("data/insight04.csv", function(data) {
									
									var table = d3.select("#table_div").append("table")
											.attr("class", "table table-striped table-hover");

								    var thead = table.append("thead"),
								        tbody = table.append("tbody");

								    var columns = ["Action", "Num_Clicks","Num_Click_Visits"];
							
								    thead.append("tr").selectAll("th")
								        .data(columns)
								        .enter()
								        .append("th")
								            .text(function(d) { return d; })
									            .attr("style", "font-size:14pt;fill:black")
												.attr("text-anchor", "end");

								    var tr = tbody.selectAll("tr")
								    	.data(data)
								    	.enter()
								    		.append("tr");

								    tr.selectAll("td")
								    	.data(function(d){return d3.values(d);})
								    	.enter()
								    		.append("td")
											.text(function(d) {return d;})
												.attr("style", "font-size:14pt;fill:black")
												.attr("text-anchor", "end");
									
								});
							}
							draw_sub4_02();
						</script>

					</section>

					<!-- suggestion 04 -->
					<section>
					</section>
					
				</section>

				<!-- annotation chart test -->
				<section>
					<h3>Key Indicator #1 <br>
						<small>1인당 멤버십 카드 및 지불 결제 카드 보유 수</small>
					</h3>
					<div id="ki01" style="width: 900px; height: 500px;"></div>
					<script type="text/javascript">
						
						google.load('visualization', '1.1', {'packages':['annotationchart']});
						google.setOnLoadCallback(drawChart_ki01);

					   function drawChart_ki01() {
					    var data_ki01 = new google.visualization.DataTable();
					    data_ki01.addColumn('date', 'DATE');
					    data_ki01.addColumn('number', 'membership');
					    data_ki01.addColumn('number', 'payment');
					    data_ki01.addRows([
					       	[new Date(2014,5,16),6.27751942047737,1.45158005716041],
							[new Date(2014,5,17),6.28241917515906,1.45159541358588],
							[new Date(2014,5,18),6.28777072712722,1.45162656095881],
							[new Date(2014,5,19),6.29279582180173,1.45158615813789],
							[new Date(2014,5,20),6.29838422192500,1.45154832844698],
							[new Date(2014,5,21),6.30227591054529,1.45155074794768],
							[new Date(2014,5,22),6.30574386173410,1.45152704082759],
							[new Date(2014,5,23),6.30970006115955,1.45150461658906],
							[new Date(2014,5,24),6.31314566925341,1.45151359254532],
							[new Date(2014,5,25),6.31623820553572,1.45150417406853],
							[new Date(2014,5,26),6.31964316931878,1.45151591836166],
							[new Date(2014,5,27),6.32308953894837,1.45150452378410],
							[new Date(2014,5,28),6.32626423040236,1.45150073270146],
							[new Date(2014,5,29),6.32934326213783,1.45145784785768],
							[new Date(2014,5,30),6.33242164983471,1.45144228817932],
							[new Date(2014,6,01),6.33628801237015,1.45202383160237],
							[new Date(2014,6,02),6.34007249401681,1.45200896478517],
							[new Date(2014,6,03),6.34328125502008,1.45201012069297],
							[new Date(2014,6,04),6.34595366301041,1.45199843872879],
							[new Date(2014,6,05),6.34820010859761,1.45198941203443],
							[new Date(2014,6,06),6.35059501912341,1.45197831670894],
							[new Date(2014,6,07),6.35406141716850,1.45193047668534],
							[new Date(2014,6,08),6.35807009006751,1.45195529433543],
							[new Date(2014,6,09),6.36053753667995,1.45194537788394],
							[new Date(2014,6,10),6.36267748619311,1.45194676325888],
							[new Date(2014,6,11),6.36471740079406,1.45197016281869],
							[new Date(2014,6,12),6.36662768489114,1.45196104724825],
							[new Date(2014,6,13),6.36833135731615,1.45198167824586],
							[new Date(2014,6,14),6.37046432618589,1.45198148800823],
							[new Date(2014,6,15),6.37286089423995,1.45198968533811],
							[new Date(2014,6,16),6.37551642217327,1.45200305835122],
							[new Date(2014,6,17),6.37797397927467,1.45197953436170],
							[new Date(2014,6,18),6.37797397927467,1.45197953436170],
					    ]);
					   
					    // Set chart options
					    var options_ki01 = {
					      colors : ['blue', 'orange'],
					      max : 10,
					      min : 0
					    };

					    // Instantiate and draw our chart, passing in some options.
					    var chart_ki01 = new google.visualization.AnnotationChart(document.getElementById('ki01'));

						var formatter = new google.visualization.NumberFormat(
						      {fractionDigits:1});
						  formatter.format(data_ki01, 1); // Apply formatter to second column
						  formatter.format(data_ki01, 2);

					    chart_ki01.draw(data_ki01, options_ki01);
						}
					</script>
				</section>

				<!-- Pie chart test	 -->
				<section>
					<h2>Pie chart</h2>
					<p>
						test pie chart
					</p>
					<div id="chart_div_01" style="width: 900px; height:450px;"></div>	
					<script type="text/javascript">
				      // Load the Visualization API and the piechart package.
				      google.load('visualization', '1.1', {'packages':['corechart']});

				      // Set a callback to run when the Google Visualization API is loaded.
				      google.setOnLoadCallback(drawChart01);

				      // Callback that creates and populates a data table,
				      // instantiates the pie chart, passes in the data and
				      // draws it.
				      function drawChart01() {

				        // Create the data table.
				        var data_01 = new google.visualization.DataTable();
				        data_01.addColumn('string', 'Component');
				        data_01.addColumn('number', 'Num_Clicks');
				        data_01.addRows([
				          ['list_tap.mycard', 38235073],
				          ['mainmenu_tap.benefittab', 5331894],
				          ['mainmenu_tap.gnbbtn', 3805642],
				          ['mainmenu_tap.coupontab', 3740204],
				          ['issuecard_tap.issuecard', 2427610],
				          ['ticker_tap.ticker', 457563],
				          ['list_tap.recocard', 417621],
				          ['ticker_tap.tickerdlt', 256489],
				          ['mainmenu_tap.searchbtn', 10486],
				          ['all_scroll.all', 137]
				        ]);

				        // Set chart options
				        var options_01 = {'title':'메인-카드 화면 내 요소 별 클릭 수',
				                   		'pieHole':0.3};

				        // Instantiate and draw our chart, passing in some options.
				        var chart_01 = new google.visualization.PieChart(document.getElementById('chart_div_01'));
				        chart_01.draw(data_01, options_01);
				      }
				    </script>
				</section>

				<!-- Google Chart : sankey chart test -->
				<section>
						<div class="container-fluid"> 
							<div class="row">

								<div class="col-md-8">
									<div id="01_01"></div>
									<script type="text/javascript">
										
										google.load('visualization', '1.1', {'packages':['sankey']});
										google.setOnLoadCallback(drawChart_01_01);

									   function drawChart_01_01() {
									    var data_01_01 = new google.visualization.DataTable();
									    data_01_01.addColumn('string', 'From');
									    data_01_01.addColumn('string', 'To');
									    data_01_01.addColumn('number', 'Weight');
									    data_01_01.addRows([
									       	[ '메인 - 카드', '멤버십 카드 발급 페이지', 596610],
									       	[ '카드 추가 하위 페이지', '멤버십 카드 발급 페이지', 872503],
									   		[ '검색 하위 페이지', '멤버십 카드 발급 페이지', 251137],
									   		[ '무료 쿠폰 상세', '멤버십 카드 발급 페이지', 25580],
									   		[ '공지 상세', '멤버십 카드 발급 페이지', 6940],
									    ]);
									    
									    // Set chart options
									    var options_01_01 = {
									      height: 500,
									      width: 600,
									      sankey: {
									        link: { color: { fill: '#777', fillOpacity: 0.5 } },
									        node: { color: { fill: '#f0ad4e' },
									                label: { color: '#333', fontSize:16, bold: true},
									                width: 9 },
									      }
									    };

									    // Instantiate and draw our chart, passing in some options.
									    var chart_01_01 = new google.visualization.Sankey(document.getElementById('01_01'));
									    chart_01_01.draw(data_01_01, options_01_01);
									   }
									</script>
								</div> <!-- end of col1 -->

								<div class="col-md-4">
									<img src="img/issue_mcard.png" class="img-responsive img-rounded"
										style="border-width: 2pt;border-color: #A4A4A4;height:500"alt="">
								</div> <!-- end of col2 -->

							</div> <!-- end of row -->
						</div> <!-- end of container-fluid -->				
				</section>

				<!-- d3 pie layout test : ok!! -->
				<section id="pie_layout">
					<p> d3 pie layout test </p>
					<script>
						var data = [10, 5, 20, 25, 30, 50];
						var r = 200;

						var color_01 = d3.scale.ordinal()
							.range(["#FFCC80", "#FFB84D", "#FF9900"]);

						var canvas = d3.select("#pie_layout").append("svg")
							.attr("width", 500)
							.attr("height", 500);

						var group = canvas.append("g")
							.attr("transform", "translate(250,230)");

						var arc = d3.svg.arc()
							.innerRadius(r-100)
							.outerRadius(r);
						
						var pie = d3.layout.pie()
							.value (function(d){return d;});

						var arcs = group.selectAll(".arc")
							.data(pie(data))
							.enter()
								.append("g")
								.attr("class", "arc");

						arcs.append("path")
							.attr("d", arc)
							.attr("fill", function(d) {return color_01(d.data);})
							.attr("stroke", "white");

						arcs.append("text")
							.attr("transform", function(d){return "translate("+arc.centroid(d)+")";})
							.text(function(d){return d.data;})
							.attr("font-size", "1.0em")
							.attr("text-anchor", "middle");

					</script>
				</section>


				<!-- d3 sankey layout test : give up! -->
				<section id="d3sankey">
					<p>d3 sankey test</p>
					<script>
						var margin = {top: 1, right: 1, bottom: 6, left: 1},
						    width = 960 - margin.left - margin.right,
						    height = 500 - margin.top - margin.bottom;

						var formatNumber = d3.format(",.0f"),
						    format = function(d) { return formatNumber(d) + " TWh"; },
						    color = d3.scale.category20();

						var svg = d3.select("#d3sankey").append("svg")
						    .attr("width", width + margin.left + margin.right)
						    .attr("height", height + margin.top + margin.bottom)
						  .append("g")
						    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

						var sankey = d3.sankey()
						    .nodeWidth(15)
						    .nodePadding(10)
						    .size([400, 400]);

						var path = sankey.link();

						d3.json("data/01_sankey.json", function(energy) {

						  sankey
						      .nodes(energy.nodes)
						      .links(energy.links)
						      .layout(5);

						  var link = svg.append("g").selectAll(".link")
						      .data(energy.links)
						    .enter().append("path")
						      .attr("class", "link")
						      .attr("d", path)
						      .style("stroke-width", function(d) { return Math.max(1, d.dy); })
						      .sort(function(a, b) { return b.dy - a.dy; });

						  link.append("text")
						      .text(function(d) { return d.source.name + " → " + d.target.name + "\n" + format(d.value); });

						  var node = svg.append("g").selectAll(".node")
						      .data(energy.nodes)
						    .enter().append("g")
						      .attr("class", "node")
						      .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; })
						    .call(d3.behavior.drag()
						      .origin(function(d) { return d; })
						      .on("dragstart", function() { this.parentNode.appendChild(this); })
						      .on("drag", dragmove));

						  node.append("rect")
						      .attr("height", function(d) { return d.dy; })
						      .attr("width", sankey.nodeWidth())
						      .style("fill", function(d) { return d.color = color(d.name.replace(/ .*/, "")); })
						      .style("stroke", function(d) { return d3.rgb(d.color).darker(2); })
						    .append("title")
						      .text(function(d) { return d.name + "\n" + format(d.value); });

						  node.append("text")
						      .attr("x", -6)
						      .attr("y", function(d) { return d.dy / 2; })
						      .attr("dy", ".35em")
						      .attr("text-anchor", "end")
						      .attr("transform", null)
						      .text(function(d) { return d.name; })
						    .filter(function(d) { return d.x < width / 2; })
						      .attr("x", 6 + sankey.nodeWidth())
						      .attr("text-anchor", "start");


						  function dragmove(d) {
						    d3.select(this).attr("transform", "translate(" + d.x + "," + (d.y = Math.max(0, Math.min(height - d.dy, d3.event.y))) + ")");
						    sankey.relayout();
						    link.attr("d", path);
						  };

						  });

					</script>
				</section>	

				<!-- d3 diagonal test -->
				<section id="diag_test">
					<p>diagonal test</p>
					<script>
						var img_width = 270 //image width,
							width = 960 //full width of canvas,
							height = 560 //full height of canvas,
							translate_dist = {x:50, y:20} //translate canvas;

						var canvas = d3.select("#diag_test").append("svg")
							.attr("width", width)
							.attr("height", height)
								.append("g")
								.attr("transform", "translate(" + translate_dist.x + "," + translate_dist.y +")");

						canvas.append("rect")
							.attr("width", width - translate_dist.x)
							.attr("height", height - translate_dist.y)
							.attr("style", "fill:none;stroke:blue;stroke-width:1;stroke-opacity:0.6;");

						// line + text group generator
						// s_string : text in start circle
						// unit_straing : text beneath the line describing unit
						// label_string : value
						// s_r : radius of start circle
						function lineGroup_g(s_string, unit_string, label_string, line_len, s_r) {
							var lineGroup = canvas.append("g")

							var start = {x:20, y:30},
								e_r = 10;
							
							lineGroup.append("circle")
								.attr("cx", start.x)
								.attr("cy", start.y)
								.attr("r", s_r)
								.attr("fill", "#C2EBFF");

							lineGroup.append("circle")
								.attr("cx", start.x + line_len)
								.attr("cy", start.y)
								.attr("r", e_r)
								.attr("fill", "#C2EBFF");

							var diagonal = d3.svg.diagonal()
								.source({x:start.x, y:start.y})
								.target({x:start.x + line_len, y:start.y});

							lineGroup.append("path")
								.attr("d", diagonal)
								.attr("fill", "none")
								.attr("stroke", "#C2EBFF")
								.attr("stroke-width", 10);

							lineGroup.append("text")
									.attr("x", start.x)
									.attr("y", start.y*1.2)
									.attr("style", "font-size:14pt;fill:black")
									.attr("text-anchor", "middle")
									.text(s_string);
							
							lineGroup.append("text")
								.attr("x", (start.x + line_len)/1.3 )
								.attr("y", start.y + 20)
								.attr("style", "font-size:12pt;fill:#8A2E2E")
								.attr("text-anchor", "middle")
								.text(unit_string)
								.append("tspan")
									.attr("x", (start.x + line_len)/1.3)
									.attr("y", start.y + 40)
									.text(label_string);

							return lineGroup;
						};

						// add screen images #1
						canvas.append("image")
							.attr("xlink:href", "img/issue_mcard.png")
							.attr("width", img_width)
							.attr("height", img_width*1.6)
							.attr("x", 150)
							.attr("y", 30)
							.attr("style", "border-width: 2pt;border-color: #A4A4A4;");
						
						// lines generated by lineGroup_g() generator function
						var lineGroup_01 = new lineGroup_g("s", "num_Visits", "3,380,821", 110, 20);
						lineGroup_01.attr("transform", "translate(20, 80)");

						// add screen images #2
						canvas.append("image")
							.attr("xlink:href", "img/issue_mcard_c.png")
							.attr("width", img_width)
							.attr("height", img_width*1.6)
							.attr("x", 500)
							.attr("y", 30)
							.attr("style", "border-width: 2pt;border-color: #A4A4A4;fill-opacity:1.0");

						var lineGroup_02 = new lineGroup_g("click", "%_Visits", "49.99%", 145, 30);
						lineGroup_02.attr("transform", "translate(330, 145)");

						
						var lineGroup_03 = new lineGroup_g("click", "%_Visits", "97.15%", 100, 30);
						lineGroup_03.attr("transform", "translate(720, 390)");
						
						
					</script>
				</section>

				<!-- fragment -->
				<section>
					<section id="fragments">
						<h2>Fragmented Views</h2>
						<p>Hit the next arrow...</p>
						<p class="fragment">... to step through ...</p>
						<ol>
							<li class="fragment"><code>any type</code></li>
							<li class="fragment"><em>of view</em></li>
							<li class="fragment"><strong>fragments</strong></li>
						</ol>

						<aside class="notes">
							This slide has fragments which are also stepped through in the notes window.
						</aside>
					</section>
					<section>
						<h2>Fragment Styles</h2>
						<p>There's a few styles of fragments, like:</p>
						<p class="fragment grow">grow</p>
						<p class="fragment shrink">shrink</p>
						<p class="fragment roll-in">roll-in</p>
						<p class="fragment fade-out">fade-out</p>
						<p class="fragment highlight-red">highlight-red</p>
						<p class="fragment highlight-green">highlight-green</p>
						<p class="fragment highlight-blue">highlight-blue</p>
						<p class="fragment current-visible">current-visible</p>
						<p class="fragment highlight-current-blue">highlight-current-blue</p>
					</section>
				</section>

				<section>
					<h1>THE END</h1>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
				]
			});

		</script>


	</body>
</html>
